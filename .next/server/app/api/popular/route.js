"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/popular/route";
exports.ids = ["app/api/popular/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpopular%2Froute&page=%2Fapi%2Fpopular%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpopular%2Froute.ts&appDir=G%3A%5CJonnyD%5CMulligan%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CJonnyD%5CMulligan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpopular%2Froute&page=%2Fapi%2Fpopular%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpopular%2Froute.ts&appDir=G%3A%5CJonnyD%5CMulligan%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CJonnyD%5CMulligan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var G_JonnyD_Mulligan_app_api_popular_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/popular/route.ts */ \"(rsc)/./app/api/popular/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/popular/route\",\n        pathname: \"/api/popular\",\n        filename: \"route\",\n        bundlePath: \"app/api/popular/route\"\n    },\n    resolvedPagePath: \"G:\\\\JonnyD\\\\Mulligan\\\\app\\\\api\\\\popular\\\\route.ts\",\n    nextConfigOutput,\n    userland: G_JonnyD_Mulligan_app_api_popular_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/popular/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3B1bGFyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwb3B1bGFyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcG9wdWxhciUyRnJvdXRlLnRzJmFwcERpcj1HJTNBJTVDSm9ubnlEJTVDTXVsbGlnYW4lNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUclM0ElNUNKb25ueUQlNUNNdWxsaWdhbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL211bGxpZ2FuLz84ZDM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkc6XFxcXEpvbm55RFxcXFxNdWxsaWdhblxcXFxhcHBcXFxcYXBpXFxcXHBvcHVsYXJcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3BvcHVsYXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wb3B1bGFyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wb3B1bGFyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRzpcXFxcSm9ubnlEXFxcXE11bGxpZ2FuXFxcXGFwcFxcXFxhcGlcXFxccG9wdWxhclxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcG9wdWxhci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpopular%2Froute&page=%2Fapi%2Fpopular%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpopular%2Froute.ts&appDir=G%3A%5CJonnyD%5CMulligan%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CJonnyD%5CMulligan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/_lib/adapters.server.ts":
/*!*************************************!*\
  !*** ./app/_lib/adapters.server.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gbooksPopular: () => (/* binding */ gbooksPopular),\n/* harmony export */   gbooksSearch: () => (/* binding */ gbooksSearch),\n/* harmony export */   igdbPopular: () => (/* binding */ igdbPopular),\n/* harmony export */   igdbSearch: () => (/* binding */ igdbSearch),\n/* harmony export */   tmdbPopular: () => (/* binding */ tmdbPopular),\n/* harmony export */   tmdbSearchAll: () => (/* binding */ tmdbSearchAll)\n/* harmony export */ });\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ \"(rsc)/./app/_lib/env.ts\");\n\n/* -------------------- TMDB -------------------- */ const TMDB_BASE = \"https://api.themoviedb.org/3\";\nasync function tmdbFetch(path, params = {}) {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TMDB_API_KEY) return null;\n    const url = new URL(TMDB_BASE + path);\n    url.searchParams.set(\"api_key\", _env__WEBPACK_IMPORTED_MODULE_0__.ENV.TMDB_API_KEY);\n    url.searchParams.set(\"language\", \"en-US\");\n    Object.entries(params).forEach(([k, v])=>url.searchParams.set(k, v));\n    const res = await fetch(url, {\n        cache: \"force-cache\"\n    });\n    if (!res.ok) return null;\n    return res.json();\n}\nfunction mapTmdbListItem(it, category) {\n    const title = it.title || it.name || \"Untitled\";\n    const date = it.release_date || it.first_air_date;\n    return {\n        id: `tmdb:${category}:${it.id}`,\n        source: \"tmdb\",\n        sourceId: String(it.id),\n        category,\n        title,\n        year: date ? Number(String(date).slice(0, 4)) : undefined,\n        imageUrl: it.poster_path ? `https://image.tmdb.org/t/p/w500${it.poster_path}` : undefined,\n        genres: (it.genre_ids || []).map((g)=>String(g))\n    };\n}\nasync function tmdbSearchAll(query) {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TMDB_API_KEY) return [];\n    const [movies, tv] = await Promise.all([\n        tmdbFetch(\"/search/movie\", {\n            query,\n            include_adult: \"false\",\n            page: \"1\"\n        }),\n        tmdbFetch(\"/search/tv\", {\n            query,\n            include_adult: \"false\",\n            page: \"1\"\n        })\n    ]);\n    const arr = [];\n    if (movies?.results) arr.push(...movies.results.map((r)=>mapTmdbListItem(r, \"film\")));\n    if (tv?.results) {\n        for (const r of tv.results){\n            const isAnime = (r.origin_country || []).includes(\"JP\") || (r.genre_ids || []).includes(16);\n            arr.push(mapTmdbListItem(r, isAnime ? \"anime\" : \"tv\"));\n        }\n    }\n    return arr;\n}\nasync function tmdbPopular() {\n    const [moviePop, tvPop, animeDiscover] = await Promise.all([\n        tmdbFetch(\"/movie/popular\", {\n            page: \"1\"\n        }),\n        tmdbFetch(\"/tv/popular\", {\n            page: \"1\"\n        }),\n        tmdbFetch(\"/discover/tv\", {\n            with_genres: \"16\",\n            sort_by: \"popularity.desc\",\n            page: \"1\"\n        })\n    ]);\n    const film = (moviePop?.results || []).map((r)=>mapTmdbListItem(r, \"film\")).slice(0, 20);\n    const tv = (tvPop?.results || []).map((r)=>mapTmdbListItem(r, \"tv\")).slice(0, 20);\n    const anime = (animeDiscover?.results || []).map((r)=>mapTmdbListItem(r, \"anime\")).slice(0, 20);\n    return {\n        film,\n        tv,\n        anime\n    };\n}\n/* -------------------- IGDB via Twitch -------------------- */ let _token = null;\nasync function getTwitchToken() {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_ID || !_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_SECRET) return null;\n    const now = Date.now();\n    if (_token && _token.expires > now + 60000) return _token.value;\n    const res = await fetch(`https://id.twitch.tv/oauth2/token?client_id=${_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_ID}&client_secret=${_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_SECRET}&grant_type=client_credentials`, {\n        method: \"POST\"\n    });\n    const json = await res.json();\n    _token = {\n        value: json.access_token,\n        expires: now + json.expires_in * 1000\n    };\n    return _token.value;\n}\nasync function igdbQuery(endpoint, body) {\n    const token = await getTwitchToken();\n    if (!token) return [];\n    const res = await fetch(`https://api.igdb.com/v4/${endpoint}`, {\n        method: \"POST\",\n        headers: {\n            \"Client-ID\": _env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_ID,\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"text/plain\"\n        },\n        body\n    });\n    if (!res.ok) return [];\n    return res.json();\n}\nasync function igdbSearch(query) {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_ID || !_env__WEBPACK_IMPORTED_MODULE_0__.ENV.TWITCH_CLIENT_SECRET) return [];\n    const q = `\r\n    fields id, name, first_release_date, cover.image_id, genres.name;\r\n    search \"${query.replace(/\"/g, '\\\\\"')}\";\r\n    where version_parent = null;\r\n    limit 25;\r\n  `;\n    const rows = await igdbQuery(\"games\", q);\n    return (rows || []).map((g)=>({\n            id: `igdb:game:${g.id}`,\n            source: \"igdb\",\n            sourceId: String(g.id),\n            category: \"game\",\n            title: g.name,\n            year: g.first_release_date ? new Date(g.first_release_date * 1000).getUTCFullYear() : undefined,\n            imageUrl: g.cover?.image_id ? `https://images.igdb.com/igdb/image/upload/t_cover_big/${g.cover.image_id}.jpg` : undefined,\n            genres: (g.genres || []).map((x)=>x.name)\n        }));\n}\nasync function igdbPopular() {\n    const q = `\r\n    fields id, name, first_release_date, cover.image_id, genres.name, rating_count;\r\n    where rating_count != null & rating_count > 100;\r\n    sort rating_count desc;\r\n    limit 40;\r\n  `;\n    const rows = await igdbQuery(\"games\", q);\n    return (rows || []).map((g)=>({\n            id: `igdb:game:${g.id}`,\n            source: \"igdb\",\n            sourceId: String(g.id),\n            category: \"game\",\n            title: g.name,\n            year: g.first_release_date ? new Date(g.first_release_date * 1000).getUTCFullYear() : undefined,\n            imageUrl: g.cover?.image_id ? `https://images.igdb.com/igdb/image/upload/t_cover_big/${g.cover.image_id}.jpg` : undefined,\n            genres: (g.genres || []).map((x)=>x.name)\n        })).slice(0, 20);\n}\n/* -------------------- Google Books -------------------- */ function normalizeGBooksThumb(url) {\n    if (!url) return undefined;\n    // Force https, some thumbnails come back as http://\n    return url.replace(/^http:\\/\\//i, \"https://\");\n}\nasync function gbooksSearch(query) {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.GOOGLE_BOOKS_API_KEY) return [];\n    const url = new URL(\"https://www.googleapis.com/books/v1/volumes\");\n    url.searchParams.set(\"q\", query);\n    url.searchParams.set(\"maxResults\", \"25\");\n    url.searchParams.set(\"key\", _env__WEBPACK_IMPORTED_MODULE_0__.ENV.GOOGLE_BOOKS_API_KEY);\n    const res = await fetch(url, {\n        cache: \"force-cache\"\n    });\n    if (!res.ok) return [];\n    const json = await res.json();\n    return (json.items || []).map((b)=>{\n        const info = b.volumeInfo || {};\n        const thumb = normalizeGBooksThumb(info.imageLinks?.thumbnail || info.imageLinks?.smallThumbnail);\n        const year = info.publishedDate ? Number(String(info.publishedDate).slice(0, 4)) : undefined;\n        return {\n            id: `gbooks:book:${b.id}`,\n            source: \"gbooks\",\n            sourceId: b.id,\n            category: \"book\",\n            title: info.title || \"Untitled\",\n            year,\n            imageUrl: thumb,\n            genres: info.categories || []\n        };\n    });\n}\nasync function gbooksPopular() {\n    if (!_env__WEBPACK_IMPORTED_MODULE_0__.ENV.GOOGLE_BOOKS_API_KEY) return [];\n    const url = new URL(\"https://www.googleapis.com/books/v1/volumes\");\n    url.searchParams.set(\"q\", \"subject:fiction\");\n    url.searchParams.set(\"maxResults\", \"40\");\n    url.searchParams.set(\"orderBy\", \"relevance\");\n    url.searchParams.set(\"key\", _env__WEBPACK_IMPORTED_MODULE_0__.ENV.GOOGLE_BOOKS_API_KEY);\n    const res = await fetch(url, {\n        cache: \"force-cache\"\n    });\n    if (!res.ok) return [];\n    const json = await res.json();\n    return (json.items || []).map((b)=>{\n        const info = b.volumeInfo || {};\n        const thumb = normalizeGBooksThumb(info.imageLinks?.thumbnail || info.imageLinks?.smallThumbnail);\n        const year = info.publishedDate ? Number(String(info.publishedDate).slice(0, 4)) : undefined;\n        return {\n            id: `gbooks:book:${b.id}`,\n            source: \"gbooks\",\n            sourceId: b.id,\n            category: \"book\",\n            title: info.title || \"Untitled\",\n            year,\n            imageUrl: thumb,\n            genres: info.categories || []\n        };\n    }).slice(0, 20);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvX2xpYi9hZGFwdGVycy5zZXJ2ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE0QjtBQUc1QixrREFBa0QsR0FDbEQsTUFBTUMsWUFBWTtBQUVsQixlQUFlQyxVQUFVQyxJQUFZLEVBQUVDLFNBQWlDLENBQUMsQ0FBQztJQUN4RSxJQUFJLENBQUNKLHFDQUFHQSxDQUFDSyxZQUFZLEVBQUUsT0FBTztJQUM5QixNQUFNQyxNQUFNLElBQUlDLElBQUlOLFlBQVlFO0lBQ2hDRyxJQUFJRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxXQUFXVCxxQ0FBR0EsQ0FBQ0ssWUFBWTtJQUNoREMsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsWUFBWTtJQUNqQ0MsT0FBT0MsT0FBTyxDQUFDUCxRQUFRUSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxHQUFHQyxFQUFFLEdBQUtSLElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDSSxHQUFHQztJQUNuRSxNQUFNQyxNQUFNLE1BQU1DLE1BQU1WLEtBQUs7UUFBRVcsT0FBTztJQUFjO0lBQ3BELElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFLE9BQU87SUFDcEIsT0FBT0gsSUFBSUksSUFBSTtBQUNqQjtBQUVBLFNBQVNDLGdCQUFnQkMsRUFBTyxFQUFFQyxRQUFrQjtJQUNsRCxNQUFNQyxRQUFRRixHQUFHRSxLQUFLLElBQUlGLEdBQUdHLElBQUksSUFBSTtJQUNyQyxNQUFNQyxPQUFPSixHQUFHSyxZQUFZLElBQUlMLEdBQUdNLGNBQWM7SUFDakQsT0FBTztRQUNMQyxJQUFJLENBQUMsS0FBSyxFQUFFTixTQUFTLENBQUMsRUFBRUQsR0FBR08sRUFBRSxDQUFDLENBQUM7UUFDL0JDLFFBQVE7UUFDUkMsVUFBVUMsT0FBT1YsR0FBR08sRUFBRTtRQUN0Qk47UUFDQUM7UUFDQVMsTUFBTVAsT0FBT1EsT0FBT0YsT0FBT04sTUFBTVMsS0FBSyxDQUFDLEdBQUcsTUFBTUM7UUFDaERDLFVBQVVmLEdBQUdnQixXQUFXLEdBQUcsQ0FBQywrQkFBK0IsRUFBRWhCLEdBQUdnQixXQUFXLENBQUMsQ0FBQyxHQUFHRjtRQUNoRkcsUUFBUSxDQUFDakIsR0FBR2tCLFNBQVMsSUFBSSxFQUFFLEVBQUVDLEdBQUcsQ0FBQyxDQUFDQyxJQUFXVixPQUFPVTtJQUN0RDtBQUNGO0FBRU8sZUFBZUMsY0FBY0MsS0FBYTtJQUMvQyxJQUFJLENBQUMzQyxxQ0FBR0EsQ0FBQ0ssWUFBWSxFQUFFLE9BQU8sRUFBRTtJQUNoQyxNQUFNLENBQUN1QyxRQUFRQyxHQUFHLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1FBQ3JDN0MsVUFBVSxpQkFBaUI7WUFBRXlDO1lBQU9LLGVBQWU7WUFBU0MsTUFBTTtRQUFJO1FBQ3RFL0MsVUFBVSxjQUFjO1lBQUV5QztZQUFPSyxlQUFlO1lBQVNDLE1BQU07UUFBSTtLQUNwRTtJQUNELE1BQU1DLE1BQW1CLEVBQUU7SUFDM0IsSUFBSU4sUUFBUU8sU0FBU0QsSUFBSUUsSUFBSSxJQUFJUixPQUFPTyxPQUFPLENBQUNYLEdBQUcsQ0FBQyxDQUFDYSxJQUFXakMsZ0JBQWdCaUMsR0FBRztJQUNuRixJQUFJUixJQUFJTSxTQUFTO1FBQ2YsS0FBSyxNQUFNRSxLQUFLUixHQUFHTSxPQUFPLENBQUU7WUFDMUIsTUFBTUcsVUFBVSxDQUFDRCxFQUFFRSxjQUFjLElBQUksRUFBRSxFQUFFQyxRQUFRLENBQUMsU0FBUyxDQUFDSCxFQUFFZCxTQUFTLElBQUksRUFBRSxFQUFFaUIsUUFBUSxDQUFDO1lBQ3hGTixJQUFJRSxJQUFJLENBQUNoQyxnQkFBZ0JpQyxHQUFHQyxVQUFVLFVBQVU7UUFDbEQ7SUFDRjtJQUNBLE9BQU9KO0FBQ1Q7QUFFTyxlQUFlTztJQUNwQixNQUFNLENBQUNDLFVBQVVDLE9BQU9DLGNBQWMsR0FBRyxNQUFNZCxRQUFRQyxHQUFHLENBQUM7UUFDekQ3QyxVQUFVLGtCQUFrQjtZQUFFK0MsTUFBTTtRQUFJO1FBQ3hDL0MsVUFBVSxlQUFlO1lBQUUrQyxNQUFNO1FBQUk7UUFDckMvQyxVQUFVLGdCQUFnQjtZQUFFMkQsYUFBYTtZQUFNQyxTQUFTO1lBQW1CYixNQUFNO1FBQUk7S0FDdEY7SUFDRCxNQUFNYyxPQUFPLENBQUNMLFVBQVVQLFdBQVcsRUFBRSxFQUFFWCxHQUFHLENBQUMsQ0FBQ2EsSUFBV2pDLGdCQUFnQmlDLEdBQUcsU0FBU25CLEtBQUssQ0FBQyxHQUFHO0lBQzVGLE1BQU1XLEtBQUssQ0FBQ2MsT0FBT1IsV0FBVyxFQUFFLEVBQUVYLEdBQUcsQ0FBQyxDQUFDYSxJQUFXakMsZ0JBQWdCaUMsR0FBRyxPQUFPbkIsS0FBSyxDQUFDLEdBQUc7SUFDckYsTUFBTThCLFFBQVEsQ0FBQ0osZUFBZVQsV0FBVyxFQUFFLEVBQUVYLEdBQUcsQ0FBQyxDQUFDYSxJQUFXakMsZ0JBQWdCaUMsR0FBRyxVQUFVbkIsS0FBSyxDQUFDLEdBQUc7SUFDbkcsT0FBTztRQUFFNkI7UUFBTWxCO1FBQUltQjtJQUFNO0FBQzNCO0FBRUEsNkRBQTZELEdBQzdELElBQUlDLFNBQW9EO0FBQ3hELGVBQWVDO0lBQ2IsSUFBSSxDQUFDbEUscUNBQUdBLENBQUNtRSxnQkFBZ0IsSUFBSSxDQUFDbkUscUNBQUdBLENBQUNvRSxvQkFBb0IsRUFBRSxPQUFPO0lBQy9ELE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7SUFDcEIsSUFBSUosVUFBVUEsT0FBT00sT0FBTyxHQUFHRixNQUFNLE9BQVEsT0FBT0osT0FBT08sS0FBSztJQUNoRSxNQUFNekQsTUFBTSxNQUFNQyxNQUNoQixDQUFDLDRDQUE0QyxFQUFFaEIscUNBQUdBLENBQUNtRSxnQkFBZ0IsQ0FBQyxlQUFlLEVBQUVuRSxxQ0FBR0EsQ0FBQ29FLG9CQUFvQixDQUFDLDhCQUE4QixDQUFDLEVBQzdJO1FBQUVLLFFBQVE7SUFBTztJQUVuQixNQUFNdEQsT0FBTyxNQUFNSixJQUFJSSxJQUFJO0lBQzNCOEMsU0FBUztRQUFFTyxPQUFPckQsS0FBS3VELFlBQVk7UUFBRUgsU0FBU0YsTUFBTWxELEtBQUt3RCxVQUFVLEdBQUc7SUFBSztJQUMzRSxPQUFPVixPQUFPTyxLQUFLO0FBQ3JCO0FBQ0EsZUFBZUksVUFBVUMsUUFBZ0IsRUFBRUMsSUFBWTtJQUNyRCxNQUFNQyxRQUFRLE1BQU1iO0lBQ3BCLElBQUksQ0FBQ2EsT0FBTyxPQUFPLEVBQUU7SUFDckIsTUFBTWhFLE1BQU0sTUFBTUMsTUFBTSxDQUFDLHdCQUF3QixFQUFFNkQsU0FBUyxDQUFDLEVBQUU7UUFDN0RKLFFBQVE7UUFDUk8sU0FBUztZQUNQLGFBQWFoRixxQ0FBR0EsQ0FBQ21FLGdCQUFnQjtZQUNqQ2MsZUFBZSxDQUFDLE9BQU8sRUFBRUYsTUFBTSxDQUFDO1lBQ2hDLGdCQUFnQjtRQUNsQjtRQUNBRDtJQUNGO0lBQ0EsSUFBSSxDQUFDL0QsSUFBSUcsRUFBRSxFQUFFLE9BQU8sRUFBRTtJQUN0QixPQUFPSCxJQUFJSSxJQUFJO0FBQ2pCO0FBQ08sZUFBZStELFdBQVd2QyxLQUFhO0lBQzVDLElBQUksQ0FBQzNDLHFDQUFHQSxDQUFDbUUsZ0JBQWdCLElBQUksQ0FBQ25FLHFDQUFHQSxDQUFDb0Usb0JBQW9CLEVBQUUsT0FBTyxFQUFFO0lBQ2pFLE1BQU1lLElBQUksQ0FBQzs7WUFFRCxFQUFFeEMsTUFBTXlDLE9BQU8sQ0FBQyxNQUFNLE9BQU87OztFQUd2QyxDQUFDO0lBQ0QsTUFBTUMsT0FBTyxNQUFNVCxVQUFVLFNBQVNPO0lBQ3RDLE9BQU8sQ0FBQ0UsUUFBUSxFQUFFLEVBQUU3QyxHQUFHLENBQUMsQ0FBQ0MsSUFBWTtZQUNuQ2IsSUFBSSxDQUFDLFVBQVUsRUFBRWEsRUFBRWIsRUFBRSxDQUFDLENBQUM7WUFDdkJDLFFBQVE7WUFDUkMsVUFBVUMsT0FBT1UsRUFBRWIsRUFBRTtZQUNyQk4sVUFBVTtZQUNWQyxPQUFPa0IsRUFBRWpCLElBQUk7WUFDYlEsTUFBTVMsRUFBRTZDLGtCQUFrQixHQUFHLElBQUloQixLQUFLN0IsRUFBRTZDLGtCQUFrQixHQUFHLE1BQU1DLGNBQWMsS0FBS3BEO1lBQ3RGQyxVQUFVSyxFQUFFK0MsS0FBSyxFQUFFQyxXQUFXLENBQUMsc0RBQXNELEVBQUVoRCxFQUFFK0MsS0FBSyxDQUFDQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUd0RDtZQUNoSEcsUUFBUSxDQUFDRyxFQUFFSCxNQUFNLElBQUksRUFBRSxFQUFFRSxHQUFHLENBQUMsQ0FBQ2tELElBQVdBLEVBQUVsRSxJQUFJO1FBQ2pEO0FBQ0Y7QUFDTyxlQUFlbUU7SUFDcEIsTUFBTVIsSUFBSSxDQUFDOzs7OztFQUtYLENBQUM7SUFDRCxNQUFNRSxPQUFPLE1BQU1ULFVBQVUsU0FBU087SUFDdEMsT0FBTyxDQUFDRSxRQUFRLEVBQUUsRUFBRTdDLEdBQUcsQ0FBQyxDQUFDQyxJQUFZO1lBQ25DYixJQUFJLENBQUMsVUFBVSxFQUFFYSxFQUFFYixFQUFFLENBQUMsQ0FBQztZQUN2QkMsUUFBUTtZQUNSQyxVQUFVQyxPQUFPVSxFQUFFYixFQUFFO1lBQ3JCTixVQUFVO1lBQ1ZDLE9BQU9rQixFQUFFakIsSUFBSTtZQUNiUSxNQUFNUyxFQUFFNkMsa0JBQWtCLEdBQUcsSUFBSWhCLEtBQUs3QixFQUFFNkMsa0JBQWtCLEdBQUcsTUFBTUMsY0FBYyxLQUFLcEQ7WUFDdEZDLFVBQVVLLEVBQUUrQyxLQUFLLEVBQUVDLFdBQVcsQ0FBQyxzREFBc0QsRUFBRWhELEVBQUUrQyxLQUFLLENBQUNDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBR3REO1lBQ2hIRyxRQUFRLENBQUNHLEVBQUVILE1BQU0sSUFBSSxFQUFFLEVBQUVFLEdBQUcsQ0FBQyxDQUFDa0QsSUFBV0EsRUFBRWxFLElBQUk7UUFDakQsSUFBSVUsS0FBSyxDQUFDLEdBQUc7QUFDZjtBQUVBLDBEQUEwRCxHQUUxRCxTQUFTMEQscUJBQXFCdEYsR0FBWTtJQUN4QyxJQUFJLENBQUNBLEtBQUssT0FBTzZCO0lBQ2pCLG9EQUFvRDtJQUNwRCxPQUFPN0IsSUFBSThFLE9BQU8sQ0FBQyxlQUFlO0FBQ3BDO0FBRU8sZUFBZVMsYUFBYWxELEtBQWE7SUFDOUMsSUFBSSxDQUFDM0MscUNBQUdBLENBQUM4RixvQkFBb0IsRUFBRSxPQUFPLEVBQUU7SUFDeEMsTUFBTXhGLE1BQU0sSUFBSUMsSUFBSTtJQUNwQkQsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsS0FBS2tDO0lBQzFCckMsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsY0FBYztJQUNuQ0gsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsT0FBT1QscUNBQUdBLENBQUM4RixvQkFBb0I7SUFDcEQsTUFBTS9FLE1BQU0sTUFBTUMsTUFBTVYsS0FBSztRQUFFVyxPQUFPO0lBQWM7SUFDcEQsSUFBSSxDQUFDRixJQUFJRyxFQUFFLEVBQUUsT0FBTyxFQUFFO0lBQ3RCLE1BQU1DLE9BQU8sTUFBTUosSUFBSUksSUFBSTtJQUMzQixPQUFPLENBQUNBLEtBQUs0RSxLQUFLLElBQUksRUFBRSxFQUFFdkQsR0FBRyxDQUFDLENBQUN3RDtRQUM3QixNQUFNQyxPQUFPRCxFQUFFRSxVQUFVLElBQUksQ0FBQztRQUM5QixNQUFNQyxRQUFRUCxxQkFBcUJLLEtBQUtHLFVBQVUsRUFBRUMsYUFBYUosS0FBS0csVUFBVSxFQUFFRTtRQUNsRixNQUFNdEUsT0FBT2lFLEtBQUtNLGFBQWEsR0FBR3RFLE9BQU9GLE9BQU9rRSxLQUFLTSxhQUFhLEVBQUVyRSxLQUFLLENBQUMsR0FBRyxNQUFNQztRQUNuRixPQUFPO1lBQ0xQLElBQUksQ0FBQyxZQUFZLEVBQUVvRSxFQUFFcEUsRUFBRSxDQUFDLENBQUM7WUFDekJDLFFBQVE7WUFDUkMsVUFBVWtFLEVBQUVwRSxFQUFFO1lBQ2ROLFVBQVU7WUFDVkMsT0FBTzBFLEtBQUsxRSxLQUFLLElBQUk7WUFDckJTO1lBQ0FJLFVBQVUrRDtZQUNWN0QsUUFBUTJELEtBQUtPLFVBQVUsSUFBSSxFQUFFO1FBQy9CO0lBQ0Y7QUFDRjtBQUVPLGVBQWVDO0lBQ3BCLElBQUksQ0FBQ3pHLHFDQUFHQSxDQUFDOEYsb0JBQW9CLEVBQUUsT0FBTyxFQUFFO0lBQ3hDLE1BQU14RixNQUFNLElBQUlDLElBQUk7SUFDcEJELElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLEtBQUs7SUFDMUJILElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLGNBQWM7SUFDbkNILElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFdBQVc7SUFDaENILElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLE9BQU9ULHFDQUFHQSxDQUFDOEYsb0JBQW9CO0lBQ3BELE1BQU0vRSxNQUFNLE1BQU1DLE1BQU1WLEtBQUs7UUFBRVcsT0FBTztJQUFjO0lBQ3BELElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFLE9BQU8sRUFBRTtJQUN0QixNQUFNQyxPQUFPLE1BQU1KLElBQUlJLElBQUk7SUFDM0IsT0FBTyxDQUFDQSxLQUFLNEUsS0FBSyxJQUFJLEVBQUUsRUFBRXZELEdBQUcsQ0FBQyxDQUFDd0Q7UUFDN0IsTUFBTUMsT0FBT0QsRUFBRUUsVUFBVSxJQUFJLENBQUM7UUFDOUIsTUFBTUMsUUFBUVAscUJBQXFCSyxLQUFLRyxVQUFVLEVBQUVDLGFBQWFKLEtBQUtHLFVBQVUsRUFBRUU7UUFDbEYsTUFBTXRFLE9BQU9pRSxLQUFLTSxhQUFhLEdBQUd0RSxPQUFPRixPQUFPa0UsS0FBS00sYUFBYSxFQUFFckUsS0FBSyxDQUFDLEdBQUcsTUFBTUM7UUFDbkYsT0FBTztZQUNMUCxJQUFJLENBQUMsWUFBWSxFQUFFb0UsRUFBRXBFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCQyxRQUFRO1lBQ1JDLFVBQVVrRSxFQUFFcEUsRUFBRTtZQUNkTixVQUFVO1lBQ1ZDLE9BQU8wRSxLQUFLMUUsS0FBSyxJQUFJO1lBQ3JCUztZQUNBSSxVQUFVK0Q7WUFDVjdELFFBQVEyRCxLQUFLTyxVQUFVLElBQUksRUFBRTtRQUMvQjtJQUNGLEdBQUd0RSxLQUFLLENBQUMsR0FBRztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXVsbGlnYW4vLi9hcHAvX2xpYi9hZGFwdGVycy5zZXJ2ZXIudHM/ZGY5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTlYgfSBmcm9tIFwiLi9lbnZcIjtcclxuaW1wb3J0IHR5cGUgeyBDYXRlZ29yeSwgTWVkaWFJdGVtIH0gZnJvbSBcIi4vc2NoZW1hXCI7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUTURCIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IFRNREJfQkFTRSA9IFwiaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvM1wiO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gdG1kYkZldGNoKHBhdGg6IHN0cmluZywgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge30pIHtcclxuICBpZiAoIUVOVi5UTURCX0FQSV9LRVkpIHJldHVybiBudWxsO1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoVE1EQl9CQVNFICsgcGF0aCk7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJhcGlfa2V5XCIsIEVOVi5UTURCX0FQSV9LRVkpO1xyXG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwibGFuZ3VhZ2VcIiwgXCJlbi1VU1wiKTtcclxuICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrLCB2XSkgPT4gdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdikpO1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBjYWNoZTogXCJmb3JjZS1jYWNoZVwiIH0pO1xyXG4gIGlmICghcmVzLm9rKSByZXR1cm4gbnVsbDtcclxuICByZXR1cm4gcmVzLmpzb24oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwVG1kYkxpc3RJdGVtKGl0OiBhbnksIGNhdGVnb3J5OiBDYXRlZ29yeSk6IE1lZGlhSXRlbSB7XHJcbiAgY29uc3QgdGl0bGUgPSBpdC50aXRsZSB8fCBpdC5uYW1lIHx8IFwiVW50aXRsZWRcIjtcclxuICBjb25zdCBkYXRlID0gaXQucmVsZWFzZV9kYXRlIHx8IGl0LmZpcnN0X2Fpcl9kYXRlO1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogYHRtZGI6JHtjYXRlZ29yeX06JHtpdC5pZH1gLFxyXG4gICAgc291cmNlOiBcInRtZGJcIixcclxuICAgIHNvdXJjZUlkOiBTdHJpbmcoaXQuaWQpLFxyXG4gICAgY2F0ZWdvcnksXHJcbiAgICB0aXRsZSxcclxuICAgIHllYXI6IGRhdGUgPyBOdW1iZXIoU3RyaW5nKGRhdGUpLnNsaWNlKDAsIDQpKSA6IHVuZGVmaW5lZCxcclxuICAgIGltYWdlVXJsOiBpdC5wb3N0ZXJfcGF0aCA/IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwJHtpdC5wb3N0ZXJfcGF0aH1gIDogdW5kZWZpbmVkLFxyXG4gICAgZ2VucmVzOiAoaXQuZ2VucmVfaWRzIHx8IFtdKS5tYXAoKGc6IGFueSkgPT4gU3RyaW5nKGcpKVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0bWRiU2VhcmNoQWxsKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPE1lZGlhSXRlbVtdPiB7XHJcbiAgaWYgKCFFTlYuVE1EQl9BUElfS0VZKSByZXR1cm4gW107XHJcbiAgY29uc3QgW21vdmllcywgdHZdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgdG1kYkZldGNoKFwiL3NlYXJjaC9tb3ZpZVwiLCB7IHF1ZXJ5LCBpbmNsdWRlX2FkdWx0OiBcImZhbHNlXCIsIHBhZ2U6IFwiMVwiIH0pLFxyXG4gICAgdG1kYkZldGNoKFwiL3NlYXJjaC90dlwiLCB7IHF1ZXJ5LCBpbmNsdWRlX2FkdWx0OiBcImZhbHNlXCIsIHBhZ2U6IFwiMVwiIH0pXHJcbiAgXSk7XHJcbiAgY29uc3QgYXJyOiBNZWRpYUl0ZW1bXSA9IFtdO1xyXG4gIGlmIChtb3ZpZXM/LnJlc3VsdHMpIGFyci5wdXNoKC4uLm1vdmllcy5yZXN1bHRzLm1hcCgocjogYW55KSA9PiBtYXBUbWRiTGlzdEl0ZW0ociwgXCJmaWxtXCIpKSk7XHJcbiAgaWYgKHR2Py5yZXN1bHRzKSB7XHJcbiAgICBmb3IgKGNvbnN0IHIgb2YgdHYucmVzdWx0cykge1xyXG4gICAgICBjb25zdCBpc0FuaW1lID0gKHIub3JpZ2luX2NvdW50cnkgfHwgW10pLmluY2x1ZGVzKFwiSlBcIikgfHwgKHIuZ2VucmVfaWRzIHx8IFtdKS5pbmNsdWRlcygxNik7XHJcbiAgICAgIGFyci5wdXNoKG1hcFRtZGJMaXN0SXRlbShyLCBpc0FuaW1lID8gXCJhbmltZVwiIDogXCJ0dlwiKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBhcnI7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0bWRiUG9wdWxhcigpOiBQcm9taXNlPFJlY29yZDxcImZpbG1cIiB8IFwidHZcIiB8IFwiYW5pbWVcIiwgTWVkaWFJdGVtW10+PiB7XHJcbiAgY29uc3QgW21vdmllUG9wLCB0dlBvcCwgYW5pbWVEaXNjb3Zlcl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICB0bWRiRmV0Y2goXCIvbW92aWUvcG9wdWxhclwiLCB7IHBhZ2U6IFwiMVwiIH0pLFxyXG4gICAgdG1kYkZldGNoKFwiL3R2L3BvcHVsYXJcIiwgeyBwYWdlOiBcIjFcIiB9KSxcclxuICAgIHRtZGJGZXRjaChcIi9kaXNjb3Zlci90dlwiLCB7IHdpdGhfZ2VucmVzOiBcIjE2XCIsIHNvcnRfYnk6IFwicG9wdWxhcml0eS5kZXNjXCIsIHBhZ2U6IFwiMVwiIH0pXHJcbiAgXSk7XHJcbiAgY29uc3QgZmlsbSA9IChtb3ZpZVBvcD8ucmVzdWx0cyB8fCBbXSkubWFwKChyOiBhbnkpID0+IG1hcFRtZGJMaXN0SXRlbShyLCBcImZpbG1cIikpLnNsaWNlKDAsIDIwKTtcclxuICBjb25zdCB0diA9ICh0dlBvcD8ucmVzdWx0cyB8fCBbXSkubWFwKChyOiBhbnkpID0+IG1hcFRtZGJMaXN0SXRlbShyLCBcInR2XCIpKS5zbGljZSgwLCAyMCk7XHJcbiAgY29uc3QgYW5pbWUgPSAoYW5pbWVEaXNjb3Zlcj8ucmVzdWx0cyB8fCBbXSkubWFwKChyOiBhbnkpID0+IG1hcFRtZGJMaXN0SXRlbShyLCBcImFuaW1lXCIpKS5zbGljZSgwLCAyMCk7XHJcbiAgcmV0dXJuIHsgZmlsbSwgdHYsIGFuaW1lIH07XHJcbn1cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tIElHREIgdmlhIFR3aXRjaCAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5sZXQgX3Rva2VuOiB7IHZhbHVlOiBzdHJpbmc7IGV4cGlyZXM6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XHJcbmFzeW5jIGZ1bmN0aW9uIGdldFR3aXRjaFRva2VuKCkge1xyXG4gIGlmICghRU5WLlRXSVRDSF9DTElFTlRfSUQgfHwgIUVOVi5UV0lUQ0hfQ0xJRU5UX1NFQ1JFVCkgcmV0dXJuIG51bGw7XHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBpZiAoX3Rva2VuICYmIF90b2tlbi5leHBpcmVzID4gbm93ICsgNjBfMDAwKSByZXR1cm4gX3Rva2VuLnZhbHVlO1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxyXG4gICAgYGh0dHBzOi8vaWQudHdpdGNoLnR2L29hdXRoMi90b2tlbj9jbGllbnRfaWQ9JHtFTlYuVFdJVENIX0NMSUVOVF9JRH0mY2xpZW50X3NlY3JldD0ke0VOVi5UV0lUQ0hfQ0xJRU5UX1NFQ1JFVH0mZ3JhbnRfdHlwZT1jbGllbnRfY3JlZGVudGlhbHNgLFxyXG4gICAgeyBtZXRob2Q6IFwiUE9TVFwiIH1cclxuICApO1xyXG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIF90b2tlbiA9IHsgdmFsdWU6IGpzb24uYWNjZXNzX3Rva2VuLCBleHBpcmVzOiBub3cgKyBqc29uLmV4cGlyZXNfaW4gKiAxMDAwIH07XHJcbiAgcmV0dXJuIF90b2tlbi52YWx1ZTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBpZ2RiUXVlcnkoZW5kcG9pbnQ6IHN0cmluZywgYm9keTogc3RyaW5nKSB7XHJcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUd2l0Y2hUb2tlbigpO1xyXG4gIGlmICghdG9rZW4pIHJldHVybiBbXTtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuaWdkYi5jb20vdjQvJHtlbmRwb2ludH1gLCB7XHJcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBcIkNsaWVudC1JRFwiOiBFTlYuVFdJVENIX0NMSUVOVF9JRCEsXHJcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIlxyXG4gICAgfSxcclxuICAgIGJvZHlcclxuICB9KTtcclxuICBpZiAoIXJlcy5vaykgcmV0dXJuIFtdO1xyXG4gIHJldHVybiByZXMuanNvbigpO1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpZ2RiU2VhcmNoKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPE1lZGlhSXRlbVtdPiB7XHJcbiAgaWYgKCFFTlYuVFdJVENIX0NMSUVOVF9JRCB8fCAhRU5WLlRXSVRDSF9DTElFTlRfU0VDUkVUKSByZXR1cm4gW107XHJcbiAgY29uc3QgcSA9IGBcclxuICAgIGZpZWxkcyBpZCwgbmFtZSwgZmlyc3RfcmVsZWFzZV9kYXRlLCBjb3Zlci5pbWFnZV9pZCwgZ2VucmVzLm5hbWU7XHJcbiAgICBzZWFyY2ggXCIke3F1ZXJ5LnJlcGxhY2UoL1wiL2csICdcXFxcXCInKX1cIjtcclxuICAgIHdoZXJlIHZlcnNpb25fcGFyZW50ID0gbnVsbDtcclxuICAgIGxpbWl0IDI1O1xyXG4gIGA7XHJcbiAgY29uc3Qgcm93cyA9IGF3YWl0IGlnZGJRdWVyeShcImdhbWVzXCIsIHEpO1xyXG4gIHJldHVybiAocm93cyB8fCBbXSkubWFwKChnOiBhbnkpID0+ICh7XHJcbiAgICBpZDogYGlnZGI6Z2FtZToke2cuaWR9YCxcclxuICAgIHNvdXJjZTogXCJpZ2RiXCIgYXMgY29uc3QsXHJcbiAgICBzb3VyY2VJZDogU3RyaW5nKGcuaWQpLFxyXG4gICAgY2F0ZWdvcnk6IFwiZ2FtZVwiIGFzIGNvbnN0LFxyXG4gICAgdGl0bGU6IGcubmFtZSxcclxuICAgIHllYXI6IGcuZmlyc3RfcmVsZWFzZV9kYXRlID8gbmV3IERhdGUoZy5maXJzdF9yZWxlYXNlX2RhdGUgKiAxMDAwKS5nZXRVVENGdWxsWWVhcigpIDogdW5kZWZpbmVkLFxyXG4gICAgaW1hZ2VVcmw6IGcuY292ZXI/LmltYWdlX2lkID8gYGh0dHBzOi8vaW1hZ2VzLmlnZGIuY29tL2lnZGIvaW1hZ2UvdXBsb2FkL3RfY292ZXJfYmlnLyR7Zy5jb3Zlci5pbWFnZV9pZH0uanBnYCA6IHVuZGVmaW5lZCxcclxuICAgIGdlbnJlczogKGcuZ2VucmVzIHx8IFtdKS5tYXAoKHg6IGFueSkgPT4geC5uYW1lKVxyXG4gIH0pKTtcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaWdkYlBvcHVsYXIoKTogUHJvbWlzZTxNZWRpYUl0ZW1bXT4ge1xyXG4gIGNvbnN0IHEgPSBgXHJcbiAgICBmaWVsZHMgaWQsIG5hbWUsIGZpcnN0X3JlbGVhc2VfZGF0ZSwgY292ZXIuaW1hZ2VfaWQsIGdlbnJlcy5uYW1lLCByYXRpbmdfY291bnQ7XHJcbiAgICB3aGVyZSByYXRpbmdfY291bnQgIT0gbnVsbCAmIHJhdGluZ19jb3VudCA+IDEwMDtcclxuICAgIHNvcnQgcmF0aW5nX2NvdW50IGRlc2M7XHJcbiAgICBsaW1pdCA0MDtcclxuICBgO1xyXG4gIGNvbnN0IHJvd3MgPSBhd2FpdCBpZ2RiUXVlcnkoXCJnYW1lc1wiLCBxKTtcclxuICByZXR1cm4gKHJvd3MgfHwgW10pLm1hcCgoZzogYW55KSA9PiAoe1xyXG4gICAgaWQ6IGBpZ2RiOmdhbWU6JHtnLmlkfWAsXHJcbiAgICBzb3VyY2U6IFwiaWdkYlwiIGFzIGNvbnN0LFxyXG4gICAgc291cmNlSWQ6IFN0cmluZyhnLmlkKSxcclxuICAgIGNhdGVnb3J5OiBcImdhbWVcIiBhcyBjb25zdCxcclxuICAgIHRpdGxlOiBnLm5hbWUsXHJcbiAgICB5ZWFyOiBnLmZpcnN0X3JlbGVhc2VfZGF0ZSA/IG5ldyBEYXRlKGcuZmlyc3RfcmVsZWFzZV9kYXRlICogMTAwMCkuZ2V0VVRDRnVsbFllYXIoKSA6IHVuZGVmaW5lZCxcclxuICAgIGltYWdlVXJsOiBnLmNvdmVyPy5pbWFnZV9pZCA/IGBodHRwczovL2ltYWdlcy5pZ2RiLmNvbS9pZ2RiL2ltYWdlL3VwbG9hZC90X2NvdmVyX2JpZy8ke2cuY292ZXIuaW1hZ2VfaWR9LmpwZ2AgOiB1bmRlZmluZWQsXHJcbiAgICBnZW5yZXM6IChnLmdlbnJlcyB8fCBbXSkubWFwKCh4OiBhbnkpID0+IHgubmFtZSlcclxuICB9KSkuc2xpY2UoMCwgMjApO1xyXG59XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBHb29nbGUgQm9va3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUdCb29rc1RodW1iKHVybD86IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgaWYgKCF1cmwpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgLy8gRm9yY2UgaHR0cHMsIHNvbWUgdGh1bWJuYWlscyBjb21lIGJhY2sgYXMgaHR0cDovL1xyXG4gIHJldHVybiB1cmwucmVwbGFjZSgvXmh0dHA6XFwvXFwvL2ksIFwiaHR0cHM6Ly9cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnYm9va3NTZWFyY2gocXVlcnk6IHN0cmluZyk6IFByb21pc2U8TWVkaWFJdGVtW10+IHtcclxuICBpZiAoIUVOVi5HT09HTEVfQk9PS1NfQVBJX0tFWSkgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzXCIpO1xyXG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicVwiLCBxdWVyeSk7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJtYXhSZXN1bHRzXCIsIFwiMjVcIik7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJrZXlcIiwgRU5WLkdPT0dMRV9CT09LU19BUElfS0VZKTtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgY2FjaGU6IFwiZm9yY2UtY2FjaGVcIiB9KTtcclxuICBpZiAoIXJlcy5vaykgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIHJldHVybiAoanNvbi5pdGVtcyB8fCBbXSkubWFwKChiOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGluZm8gPSBiLnZvbHVtZUluZm8gfHwge307XHJcbiAgICBjb25zdCB0aHVtYiA9IG5vcm1hbGl6ZUdCb29rc1RodW1iKGluZm8uaW1hZ2VMaW5rcz8udGh1bWJuYWlsIHx8IGluZm8uaW1hZ2VMaW5rcz8uc21hbGxUaHVtYm5haWwpO1xyXG4gICAgY29uc3QgeWVhciA9IGluZm8ucHVibGlzaGVkRGF0ZSA/IE51bWJlcihTdHJpbmcoaW5mby5wdWJsaXNoZWREYXRlKS5zbGljZSgwLCA0KSkgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogYGdib29rczpib29rOiR7Yi5pZH1gLFxyXG4gICAgICBzb3VyY2U6IFwiZ2Jvb2tzXCIgYXMgY29uc3QsXHJcbiAgICAgIHNvdXJjZUlkOiBiLmlkLFxyXG4gICAgICBjYXRlZ29yeTogXCJib29rXCIgYXMgY29uc3QsXHJcbiAgICAgIHRpdGxlOiBpbmZvLnRpdGxlIHx8IFwiVW50aXRsZWRcIixcclxuICAgICAgeWVhcixcclxuICAgICAgaW1hZ2VVcmw6IHRodW1iLFxyXG4gICAgICBnZW5yZXM6IGluZm8uY2F0ZWdvcmllcyB8fCBbXVxyXG4gICAgfSBhcyBNZWRpYUl0ZW07XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnYm9va3NQb3B1bGFyKCk6IFByb21pc2U8TWVkaWFJdGVtW10+IHtcclxuICBpZiAoIUVOVi5HT09HTEVfQk9PS1NfQVBJX0tFWSkgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzXCIpO1xyXG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicVwiLCBcInN1YmplY3Q6ZmljdGlvblwiKTtcclxuICB1cmwuc2VhcmNoUGFyYW1zLnNldChcIm1heFJlc3VsdHNcIiwgXCI0MFwiKTtcclxuICB1cmwuc2VhcmNoUGFyYW1zLnNldChcIm9yZGVyQnlcIiwgXCJyZWxldmFuY2VcIik7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJrZXlcIiwgRU5WLkdPT0dMRV9CT09LU19BUElfS0VZKTtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgY2FjaGU6IFwiZm9yY2UtY2FjaGVcIiB9KTtcclxuICBpZiAoIXJlcy5vaykgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIHJldHVybiAoanNvbi5pdGVtcyB8fCBbXSkubWFwKChiOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGluZm8gPSBiLnZvbHVtZUluZm8gfHwge307XHJcbiAgICBjb25zdCB0aHVtYiA9IG5vcm1hbGl6ZUdCb29rc1RodW1iKGluZm8uaW1hZ2VMaW5rcz8udGh1bWJuYWlsIHx8IGluZm8uaW1hZ2VMaW5rcz8uc21hbGxUaHVtYm5haWwpO1xyXG4gICAgY29uc3QgeWVhciA9IGluZm8ucHVibGlzaGVkRGF0ZSA/IE51bWJlcihTdHJpbmcoaW5mby5wdWJsaXNoZWREYXRlKS5zbGljZSgwLCA0KSkgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogYGdib29rczpib29rOiR7Yi5pZH1gLFxyXG4gICAgICBzb3VyY2U6IFwiZ2Jvb2tzXCIgYXMgY29uc3QsXHJcbiAgICAgIHNvdXJjZUlkOiBiLmlkLFxyXG4gICAgICBjYXRlZ29yeTogXCJib29rXCIgYXMgY29uc3QsXHJcbiAgICAgIHRpdGxlOiBpbmZvLnRpdGxlIHx8IFwiVW50aXRsZWRcIixcclxuICAgICAgeWVhcixcclxuICAgICAgaW1hZ2VVcmw6IHRodW1iLFxyXG4gICAgICBnZW5yZXM6IGluZm8uY2F0ZWdvcmllcyB8fCBbXVxyXG4gICAgfSBhcyBNZWRpYUl0ZW07XHJcbiAgfSkuc2xpY2UoMCwgMjApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJFTlYiLCJUTURCX0JBU0UiLCJ0bWRiRmV0Y2giLCJwYXRoIiwicGFyYW1zIiwiVE1EQl9BUElfS0VZIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrIiwidiIsInJlcyIsImZldGNoIiwiY2FjaGUiLCJvayIsImpzb24iLCJtYXBUbWRiTGlzdEl0ZW0iLCJpdCIsImNhdGVnb3J5IiwidGl0bGUiLCJuYW1lIiwiZGF0ZSIsInJlbGVhc2VfZGF0ZSIsImZpcnN0X2Fpcl9kYXRlIiwiaWQiLCJzb3VyY2UiLCJzb3VyY2VJZCIsIlN0cmluZyIsInllYXIiLCJOdW1iZXIiLCJzbGljZSIsInVuZGVmaW5lZCIsImltYWdlVXJsIiwicG9zdGVyX3BhdGgiLCJnZW5yZXMiLCJnZW5yZV9pZHMiLCJtYXAiLCJnIiwidG1kYlNlYXJjaEFsbCIsInF1ZXJ5IiwibW92aWVzIiwidHYiLCJQcm9taXNlIiwiYWxsIiwiaW5jbHVkZV9hZHVsdCIsInBhZ2UiLCJhcnIiLCJyZXN1bHRzIiwicHVzaCIsInIiLCJpc0FuaW1lIiwib3JpZ2luX2NvdW50cnkiLCJpbmNsdWRlcyIsInRtZGJQb3B1bGFyIiwibW92aWVQb3AiLCJ0dlBvcCIsImFuaW1lRGlzY292ZXIiLCJ3aXRoX2dlbnJlcyIsInNvcnRfYnkiLCJmaWxtIiwiYW5pbWUiLCJfdG9rZW4iLCJnZXRUd2l0Y2hUb2tlbiIsIlRXSVRDSF9DTElFTlRfSUQiLCJUV0lUQ0hfQ0xJRU5UX1NFQ1JFVCIsIm5vdyIsIkRhdGUiLCJleHBpcmVzIiwidmFsdWUiLCJtZXRob2QiLCJhY2Nlc3NfdG9rZW4iLCJleHBpcmVzX2luIiwiaWdkYlF1ZXJ5IiwiZW5kcG9pbnQiLCJib2R5IiwidG9rZW4iLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImlnZGJTZWFyY2giLCJxIiwicmVwbGFjZSIsInJvd3MiLCJmaXJzdF9yZWxlYXNlX2RhdGUiLCJnZXRVVENGdWxsWWVhciIsImNvdmVyIiwiaW1hZ2VfaWQiLCJ4IiwiaWdkYlBvcHVsYXIiLCJub3JtYWxpemVHQm9va3NUaHVtYiIsImdib29rc1NlYXJjaCIsIkdPT0dMRV9CT09LU19BUElfS0VZIiwiaXRlbXMiLCJiIiwiaW5mbyIsInZvbHVtZUluZm8iLCJ0aHVtYiIsImltYWdlTGlua3MiLCJ0aHVtYm5haWwiLCJzbWFsbFRodW1ibmFpbCIsInB1Ymxpc2hlZERhdGUiLCJjYXRlZ29yaWVzIiwiZ2Jvb2tzUG9wdWxhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/_lib/adapters.server.ts\n");

/***/ }),

/***/ "(rsc)/./app/_lib/env.ts":
/*!*************************!*\
  !*** ./app/_lib/env.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENV: () => (/* binding */ ENV)\n/* harmony export */ });\nconst ENV = {\n    TMDB_API_KEY: process.env.TMDB_API_KEY || \"\",\n    TWITCH_CLIENT_ID: process.env.TWITCH_CLIENT_ID || \"\",\n    TWITCH_CLIENT_SECRET: process.env.TWITCH_CLIENT_SECRET || \"\",\n    GOOGLE_BOOKS_API_KEY: process.env.GOOGLE_BOOKS_API_KEY || \"\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvX2xpYi9lbnYudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLE1BQU07SUFDakJDLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsWUFBWSxJQUFJO0lBQzFDRyxrQkFBa0JGLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLElBQUk7SUFDbERDLHNCQUFzQkgsUUFBUUMsR0FBRyxDQUFDRSxvQkFBb0IsSUFBSTtJQUMxREMsc0JBQXNCSixRQUFRQyxHQUFHLENBQUNHLG9CQUFvQixJQUFJO0FBQzVELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdWxsaWdhbi8uL2FwcC9fbGliL2Vudi50cz8zMGU2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFTlYgPSB7XHJcbiAgVE1EQl9BUElfS0VZOiBwcm9jZXNzLmVudi5UTURCX0FQSV9LRVkgfHwgXCJcIixcclxuICBUV0lUQ0hfQ0xJRU5UX0lEOiBwcm9jZXNzLmVudi5UV0lUQ0hfQ0xJRU5UX0lEIHx8IFwiXCIsXHJcbiAgVFdJVENIX0NMSUVOVF9TRUNSRVQ6IHByb2Nlc3MuZW52LlRXSVRDSF9DTElFTlRfU0VDUkVUIHx8IFwiXCIsXHJcbiAgR09PR0xFX0JPT0tTX0FQSV9LRVk6IHByb2Nlc3MuZW52LkdPT0dMRV9CT09LU19BUElfS0VZIHx8IFwiXCJcclxufTtcclxuIl0sIm5hbWVzIjpbIkVOViIsIlRNREJfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJUV0lUQ0hfQ0xJRU5UX0lEIiwiVFdJVENIX0NMSUVOVF9TRUNSRVQiLCJHT09HTEVfQk9PS1NfQVBJX0tFWSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/_lib/env.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/popular/route.ts":
/*!**********************************!*\
  !*** ./app/api/popular/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _app_lib_adapters_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/_lib/adapters.server */ \"(rsc)/./app/_lib/adapters.server.ts\");\n\n\nasync function GET() {\n    const [{ film, tv, anime }, game, book] = await Promise.all([\n        (0,_app_lib_adapters_server__WEBPACK_IMPORTED_MODULE_1__.tmdbPopular)().catch(()=>({\n                film: [],\n                tv: [],\n                anime: []\n            })),\n        (0,_app_lib_adapters_server__WEBPACK_IMPORTED_MODULE_1__.igdbPopular)().catch(()=>[]),\n        (0,_app_lib_adapters_server__WEBPACK_IMPORTED_MODULE_1__.gbooksPopular)().catch(()=>[])\n    ]);\n    const byCat = {\n        film,\n        game,\n        anime,\n        tv,\n        book\n    };\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        byCat\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BvcHVsYXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQzBDO0FBRTlFLGVBQWVJO0lBQ3BCLE1BQU0sQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRUMsS0FBSyxFQUFFLEVBQUVDLE1BQU1DLEtBQUssR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7UUFDMURWLHFFQUFXQSxHQUFHVyxLQUFLLENBQUMsSUFBTztnQkFBRVAsTUFBTSxFQUFFO2dCQUFFQyxJQUFJLEVBQUU7Z0JBQUVDLE9BQU8sRUFBRTtZQUFDO1FBQ3pETCxxRUFBV0EsR0FBR1UsS0FBSyxDQUFDLElBQU0sRUFBRTtRQUM1QlQsdUVBQWFBLEdBQUdTLEtBQUssQ0FBQyxJQUFNLEVBQUU7S0FDL0I7SUFDRCxNQUFNQyxRQUFRO1FBQUVSO1FBQU1HO1FBQU1EO1FBQU9EO1FBQUlHO0lBQUs7SUFDNUMsT0FBT1QscURBQVlBLENBQUNjLElBQUksQ0FBQztRQUFFRDtJQUFNO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXVsbGlnYW4vLi9hcHAvYXBpL3BvcHVsYXIvcm91dGUudHM/OWZiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgdG1kYlBvcHVsYXIsIGlnZGJQb3B1bGFyLCBnYm9va3NQb3B1bGFyIH0gZnJvbSBcIkAvYXBwL19saWIvYWRhcHRlcnMuc2VydmVyXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gIGNvbnN0IFt7IGZpbG0sIHR2LCBhbmltZSB9LCBnYW1lLCBib29rXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgIHRtZGJQb3B1bGFyKCkuY2F0Y2goKCkgPT4gKHsgZmlsbTogW10sIHR2OiBbXSwgYW5pbWU6IFtdIH0pKSxcclxuICAgIGlnZGJQb3B1bGFyKCkuY2F0Y2goKCkgPT4gW10pLFxyXG4gICAgZ2Jvb2tzUG9wdWxhcigpLmNhdGNoKCgpID0+IFtdKVxyXG4gIF0pO1xyXG4gIGNvbnN0IGJ5Q2F0ID0geyBmaWxtLCBnYW1lLCBhbmltZSwgdHYsIGJvb2sgfTtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBieUNhdCB9KTtcclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwidG1kYlBvcHVsYXIiLCJpZ2RiUG9wdWxhciIsImdib29rc1BvcHVsYXIiLCJHRVQiLCJmaWxtIiwidHYiLCJhbmltZSIsImdhbWUiLCJib29rIiwiUHJvbWlzZSIsImFsbCIsImNhdGNoIiwiYnlDYXQiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/popular/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpopular%2Froute&page=%2Fapi%2Fpopular%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpopular%2Froute.ts&appDir=G%3A%5CJonnyD%5CMulligan%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CJonnyD%5CMulligan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();